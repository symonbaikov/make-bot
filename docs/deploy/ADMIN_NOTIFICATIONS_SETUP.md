# üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Railway

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Backend —Å–µ—Ä–≤–∏—Å** –≤ Railway
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Variables**
3. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   - **Name:** `ADMIN_NOTIFICATION_EMAIL`
   - **Value:** `Richiryn2017@gmail.com`

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SMTP –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

- `SMTP_HOST` - —Ö–æ—Å—Ç SMTP —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `smtp.gmail.com`)
- `SMTP_PORT` - –ø–æ—Ä—Ç SMTP (–æ–±—ã—á–Ω–æ `587` –¥–ª—è TLS –∏–ª–∏ `465` –¥–ª—è SSL)
- `SMTP_USER` - email –∞–¥—Ä–µ—Å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
- `SMTP_PASSWORD` - –ø–∞—Ä–æ–ª—å –∏–ª–∏ app password –¥–ª—è email
- `SMTP_SECURE` - `true` –¥–ª—è SSL (–ø–æ—Ä—Ç 465) –∏–ª–∏ `false` –¥–ª—è TLS (–ø–æ—Ä—Ç 587)
- `SMTP_FROM` - –∞–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `SMTP_USER`)

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫–µ–Ω–¥

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –±—ç–∫–µ–Ω–¥.

## –ß—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏

–ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç email —Å —Å–ª–µ–¥—É—é—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:

- **ID —Å–µ—Å—ñ—ó** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏
- **Email** - email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–Ü–º'—è —Ç–∞ –ø—Ä—ñ–∑–≤–∏—â–µ** - –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–¢–µ–ª–µ—Ñ–æ–Ω** - –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)
- **–ü–ª–∞–Ω** - –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–ª–∞–Ω (BASIC, STANDARD, PREMIUM)
- **–°—É–º–∞** - —Å—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞
- **–°—Å—ã–ª–∫–∞** - –ø—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –¥–µ—Ç–∞–ª–∏ —Å–µ—Å—Å–∏–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

## –§–æ—Ä–º–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

Email –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ HTML —Ñ–æ—Ä–º–∞—Ç–µ —Å –∫—Ä–∞—Å–∏–≤—ã–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ–º –∏ —Ç–∞–∫–∂–µ –≤–∫–ª—é—á–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—É—é –≤–µ—Ä—Å–∏—é –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

## –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### –°–ø–∏—Å–æ–∫ –ø–ª–∞—Ç–µ–∂–µ–π

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ **"–ü–ª–∞—Ç–µ–∂—ñ"** (`/payments`) –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
- ID —Å–µ—Å—Å–∏–∏
- –ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- Email
- –ü–ª–∞–Ω
- –°—É–º–º–∞
- –°—Ç–∞—Ç—É—Å
- –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è

### –î–µ—Ç–∞–ª–∏ –ø–ª–∞—Ç–µ–∂–∞

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–µ—Ç–∞–ª–µ–π –ø–ª–∞—Ç–µ–∂–∞ (`/payments/:sessionId`) –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
- ID —Å–µ—Å—Å–∏–∏ –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ü–ª–∞–Ω –∏ —Å—É–º–º–∞
- –°—Ç–∞—Ç—É—Å
- Email (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ PayPal)
- **–ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
- **–¢–µ–ª–µ—Ñ–æ–Ω**
- **Telegram User ID**
- –î–∞—Ç—ã (–æ–ø–ª–∞—Ç—ã, –æ–∫–æ–Ω—á–∞–Ω–∏—è, —Å–æ–∑–¥–∞–Ω–∏—è)
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

## Troubleshooting

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `ADMIN_NOTIFICATION_EMAIL`:**
   - Backend —Å–µ—Ä–≤–∏—Å ‚Üí Variables ‚Üí —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
   - Email –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º: `Richiryn2017@gmail.com`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ SMTP –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - –î–ª—è Gmail –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ App Password –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `SMTP_SECURE` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞:**
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞ `Admin notification sent successfully`
   - –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `ADMIN_NOTIFICATION_EMAIL not configured`, –∑–Ω–∞—á–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
   - –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `Failed to send admin notification`, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP

### –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –±—ã–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –±–æ—Ç–æ–º:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ñ—É—Ä–Ω–∞–ª –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ" (`/actions`)
   - –ù–∞–π–¥–∏—Ç–µ —Å–æ–±—ã—Ç–∏–µ `EMAIL_COLLECTED` –∏–ª–∏ `WEBHOOK_SENT`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ payload - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤—è–∑—å —Å–µ—Å—Å–∏–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:**
   - –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü–∞ `sessions` –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å —Å–≤—è–∑—å —Å —Ç–∞–±–ª–∏—Ü–µ–π `users`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `tgUserId` –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω

## –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Gmail

```env
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_SECURE=false
SMTP_FROM=your-email@gmail.com
ADMIN_NOTIFICATION_EMAIL=Richiryn2017@gmail.com
```

**–í–∞–∂–Ω–æ:** –î–ª—è Gmail –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å App Password, –∞ –Ω–µ –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å. –°–æ–∑–¥–∞–π—Ç–µ App Password –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Google Account ‚Üí Security ‚Üí 2-Step Verification ‚Üí App passwords.

