# üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DATABASE_URL –≤ Railway

## –ü—Ä–æ–±–ª–µ–º–∞

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É:
```
DATABASE_URL is required in production mode. Please set the DATABASE_URL environment variable.
Current DATABASE_URL value: postgresql://username:password@host:port/database_name?schema=public
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤ Railway —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `DATABASE_URL` —Å placeholder –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –°–æ–∑–¥–∞—Ç—å PostgreSQL —Å–µ—Ä–≤–∏—Å –≤ Railway (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç PostgreSQL —Å–µ—Ä–≤–∏—Å–∞ –≤ Railway, —Å–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Railway** ‚Üí –≤–∞—à –ø—Ä–æ–µ–∫—Ç (`mindful-enthusiasm`)
2. **–ù–∞–∂–º–∏—Ç–µ "+ New"** (–∫–Ω–æ–ø–∫–∞ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –∏–ª–∏ –≤–Ω–∏–∑—É —Å–ø–∏—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤)
3. **–í—ã–±–µ—Ä–∏—Ç–µ "Database"** ‚Üí **"Add PostgreSQL"**
4. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç PostgreSQL —Å–µ—Ä–≤–∏—Å
5. **–î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω–∏—è** (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 1-2 –º–∏–Ω—É—Ç—ã)
6. **–û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π PostgreSQL —Å–µ—Ä–≤–∏—Å** ‚Üí **Variables**
7. **–ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `DATABASE_URL`** –∏–ª–∏ `POSTGRES_URL`
8. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ** (–æ–Ω–æ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫):
   ```
   postgresql://postgres:actual_password@containers-us-west-xxx.railway.app:5432/railway
   ```
9. **–û—Ç–∫—Ä–æ–π—Ç–µ Backend —Å–µ—Ä–≤–∏—Å** (`@make-bot/backend`)
10. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Variables**
11. **–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `DATABASE_URL`** –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
12. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ**

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π PostgreSQL —Å–µ—Ä–≤–∏—Å

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Railway** ‚Üí –≤–∞—à –ø—Ä–æ–µ–∫—Ç
2. **–ù–∞–π–¥–∏—Ç–µ PostgreSQL —Å–µ—Ä–≤–∏—Å** –≤ —Å–ø–∏—Å–∫–µ —Å–µ—Ä–≤–∏—Å–æ–≤
3. **–û—Ç–∫—Ä–æ–π—Ç–µ PostgreSQL —Å–µ—Ä–≤–∏—Å** ‚Üí **Variables**
4. **–ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `DATABASE_URL`** –∏–ª–∏ `POSTGRES_URL`
5. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ** (–æ–Ω–æ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫):
   ```
   postgresql://postgres:actual_password@containers-us-west-xxx.railway.app:5432/railway
   ```
6. **–û—Ç–∫—Ä–æ–π—Ç–µ Backend —Å–µ—Ä–≤–∏—Å** (`@make-bot/backend`)
7. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Variables**
8. **–ù–∞–π–¥–∏—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `DATABASE_URL`**
9. **–í—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**
10. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ**

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π PostgreSQL —Å–µ—Ä–≤–∏—Å

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Railway** ‚Üí –≤–∞—à –ø—Ä–æ–µ–∫—Ç
2. **–ù–∞–∂–º–∏—Ç–µ "+ New"** ‚Üí **Database** ‚Üí **Add PostgreSQL**
3. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç PostgreSQL —Å–µ—Ä–≤–∏—Å
4. **–û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π PostgreSQL —Å–µ—Ä–≤–∏—Å** ‚Üí **Variables**
5. **–ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `DATABASE_URL`**
6. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ**
7. **–û—Ç–∫—Ä–æ–π—Ç–µ Backend —Å–µ—Ä–≤–∏—Å** (`@make-bot/backend`)
8. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Variables**
9. **–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `DATABASE_URL`** –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
10. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ**

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Railway Service Variables (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ Service Variables:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Backend —Å–µ—Ä–≤–∏—Å** (`@make-bot/backend`)
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Variables**
3. **–ù–∞–∂–º–∏—Ç–µ "+ New Variable"**
4. **–í –ø–æ–ª–µ "Variable"** –≤–≤–µ–¥–∏—Ç–µ: `DATABASE_URL`
5. **–í –ø–æ–ª–µ "Value"** –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Å—Å—ã–ª–∫–∏ (üîó)
6. **–í—ã–±–µ—Ä–∏—Ç–µ PostgreSQL —Å–µ—Ä–≤–∏—Å** ‚Üí **DATABASE_URL**
7. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é PostgreSQL —Å–µ—Ä–≤–∏—Å–∞
8. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ**

–≠—Ç–æ—Ç —Å–ø–æ—Å–æ–± –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ, —Ç–∞–∫ –∫–∞–∫ –µ—Å–ª–∏ PostgreSQL —Å–µ—Ä–≤–∏—Å –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∏ –∏–∑–º–µ–Ω–∏—Ç—Å—è URL, –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è.

## –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ Backend —Å–µ—Ä–≤–∏—Å:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ `@make-bot/backend`
   - –ù–∞–∂–º–∏—Ç–µ **Deploy** ‚Üí **Redeploy**

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   - –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –æ—Ç–∫—Ä–æ–π—Ç–µ **Deploy Logs**
   - –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ –ø—Ä–æ `DATABASE_URL`
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ: `‚úÖ Using provided DATABASE_URL in production mode`

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ health check:**
   ```
   https://your-backend.railway.app/health
   ```
   –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å `{"status":"ok"}`

## –§–æ—Ä–º–∞—Ç DATABASE_URL

–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π `DATABASE_URL` –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```
postgresql://postgres:actual_password@containers-us-west-xxx.railway.app:5432/railway?sslmode=require
```

**–ù–ï –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:**
- ‚ùå `username` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–∞–ø—Ä–∏–º–µ—Ä `postgres`)
- ‚ùå `password` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å)
- ‚ùå `host` (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä `containers-us-west-xxx.railway.app`)
- ‚ùå `port` (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä `5432`)
- ‚ùå `database_name` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä `railway`)

## Troubleshooting

### DATABASE_URL –≤—Å–µ –µ—â–µ —Å–æ–¥–µ—Ä–∂–∏—Ç placeholder

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ **Variables** PostgreSQL —Å–µ—Ä–≤–∏—Å–∞, –∞ –Ω–µ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ (–Ω–∞–∂–º–∏—Ç–µ Save –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞)
3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### –ù–µ –º–æ–≥—É –Ω–∞–π—Ç–∏ PostgreSQL —Å–µ—Ä–≤–∏—Å

**–†–µ—à–µ–Ω–∏–µ:**
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π PostgreSQL —Å–µ—Ä–≤–∏—Å (—Å–º. –í–∞—Ä–∏–∞–Ω—Ç 2 –≤—ã—à–µ)
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω–µ—à–Ω–∏–π PostgreSQL (–Ω–∞–ø—Ä–∏–º–µ—Ä, Supabase, Neon)
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `DATABASE_URL` –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –≤ Railway

### DATABASE_URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –Ω–æ –≤—Å–µ —Ä–∞–≤–Ω–æ –æ—à–∏–±–∫–∞

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `NODE_ENV=production` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–æ–∫
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω

