# Checklist: –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ Phase 3 (Telegram Bot Development)

## ‚úÖ Phase 1: Project Setup & Database - –ó–ê–í–ï–†–®–ï–ù–û

- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ monorepo —Å–æ–∑–¥–∞–Ω–∞
- [x] TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- [x] ESLint –∏ Prettier –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [x] Prisma —Å—Ö–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∞
- [x] Docker Compose –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [x] Seed –¥–∞–Ω–Ω—ã–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã

## ‚úÖ Phase 2: Backend API Development - –ó–ê–í–ï–†–®–ï–ù–û

- [x] Express —Å–µ—Ä–≤–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [x] Middleware —Å–æ–∑–¥–∞–Ω—ã (auth, error handling, rate limiting, logging)
- [x] –°–µ—Ä–≤–∏—Å—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (User, Session, Action, WebUser, Make)
- [x] Webhook endpoints —Å–æ–∑–¥–∞–Ω—ã (`/api/webhook/bot`, `/api/webhook/paypal`)
- [x] Admin endpoints —Å–æ–∑–¥–∞–Ω—ã
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ Zod
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Make —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

## üîÑ –¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ PostgreSQL

```bash
docker-compose up -d
```

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–æ–≤

```bash
# Backend
cp backend/.env.example backend/.env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å DATABASE_URL –∏ –¥—Ä—É–≥–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

# Bot
cp bot/.env.example bot/.env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å TELEGRAM_BOT_TOKEN –∏ API_URL
```

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### –®–∞–≥ 4: –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
cd backend
npm run db:generate
npm run db:migrate
```

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### –®–∞–≥ 5: Seed –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
cd backend
npm run db:seed
```

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ Backend API

```bash
cd backend
npm run dev
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å http://localhost:3000/health
```

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

## ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ Phase 3: Telegram Bot Development

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –±–æ—Ç–∞:

1. **Backend API –≥–æ—Ç–æ–≤:**
   - ‚úÖ `POST /api/webhook/bot` endpoint —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
   - ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Zod
   - ‚úÖ Upsert –ª–æ–≥–∏–∫–∞ –¥–ª—è sessions
   - ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ actions
   - ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Make

2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞:**
   - ‚úÖ Prisma —Å—Ö–µ–º–∞ —Å –º–æ–¥–µ–ª—è–º–∏ User, Session, Action
   - ‚úÖ ENUM —Ç–∏–ø—ã (Plan, SessionStatus, ActionType)
   - ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–æ—Ç–∞:**
   - ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞ (`bot/src/index.ts`)
   - ‚úÖ TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
   - ‚úÖ Package.json —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ (telegraf, axios, validator)

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
   - ‚úÖ Backend API –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –±–æ—Ç–∞
   - ‚úÖ Make webhook URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω
   - ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è Phase 3:

1. **–°–æ–∑–¥–∞—Ç—å HTTP –∫–ª–∏–µ–Ω—Ç** –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Backend API
2. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å handlers:**
   - `/start` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π session_id
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ email input
   - –í–∞–ª–∏–¥–∞—Ü–∏—è email
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Backend API
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PayPal —Å—Å—ã–ª–∫–∏
3. **State management** –¥–ª—è conversation flow
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –∏ fallback —Å—Ü–µ–Ω–∞—Ä–∏–∏

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:

1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Backend API –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
3. –ù–∞—á–∞—Ç—å Phase 3: Telegram Bot Development
